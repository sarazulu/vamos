($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/attractions.supplier-support-banner",d:["vendor-babel","vendor-react-libs","@ta/common.features","lithium-common","lithium-platform","@ta/platform.interactions","@ta/modal.styleguide","@ta/reviews.photos"],e:["./packages/attractions/supplier-support-banner/SupplierSupportBanner.jsx"],m:{"./packages/attractions/supplier-support-banner/SupplierSupportBanner.jsx":function(e,t,a){"use strict";a.r(t);var o=a("@babel/runtime/helpers/esm/slicedToArray"),r=a.n(o),n=a("react"),i=a("@ta/common.features"),c=a("@ta/common.is-visible"),l=a("@ta/core-ui.button"),d=a.n(l),s=a("@ta/lithium.context"),u=a("@ta/platform.i18n"),m=a.n(u),_=a("@ta/platform.interactions"),p=a("@ta/modal.styleguide"),v=a.n(p),b=function e(t){var a=Object(_.useGARecorder)(),o=n.useCallback(function(){a({module:t.trackingModule,action:"click_covid_donation_button"})},[a,t.trackingModule]),r=Object(c.useOnVisible)(function(){return a({module:t.trackingModule,action:"view_covid_modal_payment_section"})});return n.createElement("div",{ref:r,className:"_1yXEbNZe"},n.createElement("div",{className:"_2P5CycAi"},n.createElement(m.a,{id:"covid_support_modal_monetary_header"})),n.createElement("div",{className:"_3TSE2AVM"},n.createElement(m.a,{id:"covid_support_modal_monetary_body_updated"})),n.createElement("a",{href:t.crowdfundingUrl,target:"_blank"},n.createElement(d.a,{fullWidth:t.isMobile,onClick:o,theme:"original",size:"large"},n.createElement(m.a,{id:"covid_support_modal_monetary_cta"}))))},E=a("@ta/reviews.photos"),f=a.n(E),g=function e(t){var a=Object(_.useGARecordCallback)({module:t.trackingModule,action:"click_covid_photo_button"}),o=n.useCallback(function(){f()(t.geoId,t.locationId,a)},[a,t.geoId,t.locationId]);return n.createElement("div",{className:"_1yXEbNZe"},n.createElement("div",{className:"_2P5CycAi"},n.createElement(m.a,{id:"covid_support_modal_photos_header"})),n.createElement("div",{className:"_3TSE2AVM"},n.createElement(m.a,{id:"covid_support_modal_photos_body"})),n.createElement(d.a,{fullWidth:t.isMobile,onClick:o,theme:"secondary",size:"large"},n.createElement(m.a,{id:"covid_support_modal_photos_cta"})))},w=function e(t){var a=Object(_.useGARecorder)(),o=n.useCallback(function(){a({module:t.trackingModule,action:"click_covid_war_button"})},[a,t.trackingModule]),r=t.writeUserReviewUrl||"/UserReview-g".concat(t.geoId,"-d").concat(t.locationId);return n.createElement("div",{className:"_1yXEbNZe"},n.createElement("div",{className:"_2P5CycAi"},n.createElement(m.a,{id:"covid_support_modal_reviews_header"})),n.createElement("div",{className:"_3TSE2AVM"},n.createElement(m.a,{id:"covid_support_modal_reviews_body_updated"})),n.createElement("a",{href:r,target:"_blank"},n.createElement(d.a,{fullWidth:t.isMobile,onClick:o,size:"large"},n.createElement(m.a,{id:"covid_support_modal_reviews_cta"}))))},h=function e(){return n.createElement("div",{className:"_2iCEfHCV"},n.createElement(m.a,{id:"covid_support_modal_header"}))},k=function e(t){var a=Object(_.useGARecorder)(),o=Object(c.useOnVisible)(function(){return a({module:t.trackingModule,action:"view_covid_support_modal"})});return n.createElement(v.a,{onClose:t.onClose,header:n.createElement(h,null),closeIconColor:"TA_GRAY_3",vertical:t.isMobile?{top:25}:{top:161},width:t.isMobile?"100vw":550,bodyProps:{isFullBleed:!0}},n.createElement("div",{ref:o,className:"_3vytCyfI"},t.crowdfundingUrl&&Object(i.featureIsEnabled)("supplier_support_banner_crowdfunding_section")&&n.createElement(b,t),n.createElement(w,t),n.createElement(g,t)))};t.default=function e(t){var a=n.useState(!1),o=r()(a,2),l=o[0],u=o[1],p=n.useContext(s.Route),v=r()(p,1)[0],b=n.useContext(s.Route),E=r()(b,1)[0].params,f=Object(_.useGARecorder)(),g="MOBILE"===n.useContext(s.Device).viewportCategory,w=!!n.useContext(s.Visitor).userId,h=E.detailId||-1,y=E.geoId||-1,C=function e(t){return("AttractionProductReview"===t?"AttractionProductDetail":"Attraction_Review"===t&&"Attraction_Review")||""}(v.page),A=n.useCallback(function(){u(!0),f({module:C,action:"click_covid_support_banner"})},[f,u,C]),N=n.useCallback(function(){u(!1)},[u]),I={crowdfundingUrl:t.crowdfundingUrl,writeUserReviewUrl:t.writeUserReviewUrl,onClose:N,trackingModule:C,isMobile:g,isLoggedIn:w,locationId:h,geoId:y},M=Object(c.useOnVisible)(function(){return f({module:C,action:"view_covid_support_banner"})});return n.createElement("div",{ref:M,className:"_3XbJnAfK"},n.createElement("div",{className:"yJkk9hLc"},n.createElement("div",{className:"_1UQbdIt6"},n.createElement("div",{style:{fontWeight:"bold"}},n.createElement(m.a,{id:"covid_support_banner_header"})),n.createElement("div",{className:"_11nRovss"},t.crowdfundingUrl&&Object(i.featureIsEnabled)("supplier_support_banner_crowdfunding_section")?n.createElement(m.a,{id:"covid_support_banner_body_crowdfunding"}):n.createElement(m.a,{id:"covid_support_banner_body_no_crowdfunding"}))),n.createElement("div",{className:"_3vCeLKHV"},n.createElement(d.a,{size:"large",theme:"primary",fullWidth:g,onClick:A},n.createElement(m.a,{id:"covid_support_banner_header"})))),l&&n.createElement(k,I))}}}});
//# sourceMappingURL=attractions.supplier-support-banner.b5c943f281.js.map