($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/media-viewer.media-carousel",d:["vendor-babel","vendor-react-libs","lithium-platform","lithium-common","@ta/common.loadable","@ta/common.indicator-dots"],e:["./packages/media-viewer/media-carousel/index.jsx"],m:{"./packages/media-viewer/media-carousel/index.jsx":function(e,t,a){"use strict";a.r(t);var s=a("@babel/runtime/helpers/esm/classCallCheck"),r=a.n(s),o=a("@babel/runtime/helpers/esm/createClass"),n=a.n(o),i=a("@babel/runtime/helpers/esm/possibleConstructorReturn"),p=a.n(i),l=a("@babel/runtime/helpers/esm/getPrototypeOf"),h=a.n(l),c=a("@babel/runtime/helpers/esm/assertThisInitialized"),u=a.n(c),d=a("@babel/runtime/helpers/esm/inherits"),m=a.n(d),w=a("@babel/runtime/helpers/esm/defineProperty"),v=a.n(w),S=a("react"),f=a("@ta/lithium.context"),x=a("@ta/core-ui.icon"),g=a.n(x),C=a("@ta/common.classnames"),b=a.n(C),I=a("@ta/platform.i18n"),E=a.n(I),L=a("@ta/common.loadable"),T=a.n(L),y=a("@ta/common.indicator-dots"),k=a.n(y),z=a("@ta/media.image"),_=.1,M=2,N=function e(t){var a,s=t.isRight,r=t.size,o=t.onClick;a=t.disabled?s?"_1t8nCC--":"IWSJhzy7":s?"_2LvvdGea":"_2RByU0I_";var n=r&&"small"===r?"_2HcR_iyY":null,i=s?"Right":"Left";return"MOBILE"!==S.useContext(f.Device).viewportCategory?S.createElement("div",{className:b()(a,n),onClick:o,"data-clicksource":"CarouselArrow","data-automation":"mediaCarouselArrow".concat(i)}):null};N.defaultProps={disabled:!1};var P=function(e){function t(){var e,a;r()(this,t);for(var s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return a=p()(this,(e=h()(t)).call.apply(e,[this].concat(o))),v()(u()(a),"swallow",function(e){e.stopPropagation(),e.preventDefault()}),v()(u()(a),"previous",function(e){a.swallow(e),a.nav(-1,!0)}),v()(u()(a),"next",function(e){a.swallow(e),a.nav(1,!0)}),v()(u()(a),"nav",function(e,t){1===e&&a.props.onNext&&"function"==typeof a.props.onNext&&a.props.onNext(),-1===e&&a.props.onPrev&&"function"==typeof a.props.onPrev&&a.props.onPrev(),a.props.onNav&&a.props.onNav(e,t);var s,r=a.props.totalCount||a.props.media.length,o=a.props.currentIndex+e,n=a.props.hasWrapped;o>=r&&a.props.wrapPhotos&&(n=!0),(s=o<0?n?Math.max(Math.min(r,r+o),0):0:Math.max(Math.min(r-1,a.props.wrapPhotos?o%r:o),0))!==a.props.currentIndex&&a.navToIndex(s,n)}),v()(u()(a),"navToIndex",function(e,t){a.props.updateCarouselState&&a.props.updateCarouselState(a.props.uniqueId,e,t),e>=a.props.media.length-1-(a.props.loadLastThreshold||M)&&a.props.onLoadLast&&a.props.onLoadLast(),a.props.onChange&&a.props.onChange(e)}),v()(u()(a),"swipeState",{xStart:null,xLast:null,swipeThreshold:null}),v()(u()(a),"touchStart",function(e){e&&e.currentTarget&&e.touches&&1===e.touches.length&&(a.swipeState.swipeThreshold=e.currentTarget.clientWidth*_,a.swipeState.xStart=e.touches[0].pageX-e.currentTarget.offsetLeft,a.swipeState.xLast=null)}),v()(u()(a),"touchMove",function(e){if(e&&e.currentTarget&&e.touches&&1===e.touches.length&&null!==a.swipeState.swipeThreshold&&null!==a.swipeState.xStart){a.swipeState.xLast=e.touches[0].pageX-e.currentTarget.offsetLeft;var t=a.swipeState.xStart-a.swipeState.xLast;a.swipeState.swipeThreshold<=Math.abs(t)&&a.touchEnd()}}),v()(u()(a),"touchEnd",function(){if(null===a.swipeState.swipeThreshold||null===a.swipeState.xLast||null===a.swipeState.xStart)return a.swipeState.xStart=null,void(a.swipeState.xLast=null);var e=a.swipeState.xStart-a.swipeState.xLast;if(a.swipeState.swipeThreshold<=Math.abs(e)){a.swipeState.xStart=null,a.swipeState.xLast=null;var t=a.props.isRtl?-1:1,s=e/Math.abs(e);a.nav(t*s,!1)}}),a}return m()(t,e),n()(t,[{key:"render",value:function e(){var t=this,a=this.props.totalCount||this.props.media.length,s=this.props.hideArrows?"_3l4CzzrK":null,r=this.props.currentIndex>0||this.props.hasWrapped,o=a>1&&(this.props.currentIndex<a-1||this.props.wrapPhotos),n=void 0!==this.props.preloadThreshold&&null!==this.props.preloadThreshold?this.props.preloadThreshold:M;return S.createElement("div",{className:"_1ehjWN8D"},S.createElement("div",{className:b()("_17S8nzX7","carousel",s),"data-automation":"mediaCarousel",style:{width:this.props.width,height:this.props.height},onClick:function e(){t.props.onClick&&t.props.onClick(t.props.media[t.props.currentIndex].mediaId)},onTouchStart:this.touchStart,onTouchMove:this.touchMove,onTouchEnd:this.touchEnd},S.createElement("ul",{className:"_2akXtWqY",style:{backgroundColor:this.props.backgroundColor}},this.props.media.map(function(e,a){return S.createElement("li",{key:"media-".concat(e.mediaId),className:b()("_1DZ3tIGJ",t.props.currentIndex===a?"_37nMI0lo":null)},S.createElement(T.a,{shouldLoad:Math.abs(t.props.currentIndex-a)<=n},S.createElement(z.ResponsiveImage,{sources:e.photoSizes,width:"100%",height:"100%",notLazy:!t.props.lazyLoadImages,fitStrategy:t.props.imageFitStrategy,ssrContainerDimensions:0===a?t.props.containerDimensions:void 0,containerDimensionsOverride:t.props.lazyLoadImages||0!==a?void 0:t.props.containerDimensions})))})),this.props.showCta?S.createElement(S.Fragment,null,S.createElement("div",{className:"_2878pYod"},S.createElement("span",{className:"_2n0JSv4h","data-automation":"mediaCarouselCTA"},S.createElement(g.a,{name:"expand"}),S.createElement(E.a,{id:"full_view"}))),S.createElement("div",{className:"_3_dFSw8H"})):null,r?S.createElement(N,{isRight:!1,size:this.props.arrowSize,onClick:this.previous}):S.createElement(N,{isRight:!1,size:this.props.arrowSize,onClick:this.swallow,disabled:!0}),o?S.createElement(N,{isRight:!0,size:this.props.arrowSize,onClick:this.next}):S.createElement(N,{isRight:!0,size:this.props.arrowSize,onClick:this.swallow,disabled:!0}),this.props.showIndicatorDots&&a?S.createElement(k.a,{numDots:Math.min(5,a),numItems:a,currentIndex:this.props.currentIndex}):null,this.props.renderOverlay?S.createElement("div",{className:"_2C1wLsAi"},this.props.renderOverlay()):null))}}]),t}(S.Component);v()(P,"defaultProps",{loadLastThreshold:M,preloadThreshold:M});var R=P;a.d(t,"MediaCarousel",function(){return R})}}});
//# sourceMappingURL=media-viewer.media-carousel.2700c1d76d.js.map