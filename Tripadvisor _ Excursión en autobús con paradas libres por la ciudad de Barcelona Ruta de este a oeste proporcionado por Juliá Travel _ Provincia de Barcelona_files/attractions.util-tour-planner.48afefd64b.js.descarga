($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/attractions.util-tour-planner",d:["vendor-babel"],e:["./packages/attractions/util-tour-planner/util-tour-planner.jsx"],m:{"./packages/attractions/util-tour-planner/util-tour-planner.jsx":function(n,t,e){"use strict";e.r(t),e.d(t,"getTotalPaxCount",function(){return u}),e.d(t,"validateAtLeastOneAdult",function(){return o}),e.d(t,"validateOnlyAdults",function(){return i}),e.d(t,"validateNotOnlyInfants",function(){return _}),e.d(t,"validateAgeBandRequirementsWithError",function(){return c}),e.d(t,"getDefaultPaxCount",function(){return s}),e.d(t,"getDefaultAgeBands",function(){return x}),e.d(t,"getZeroedAgeBands",function(){return d}),e.d(t,"getDefaultLanguageFilters",function(){return g}),e.d(t,"getFormattedGradeTitle",function(){return l}),e.d(t,"applyLanguageFilter",function(){return f}),e.d(t,"getSelectedLanguagesFromMap",function(){return m}),e.d(t,"getNumAgeBandText",function(){return p}),e.d(t,"getPAXText",function(){return P}),e.d(t,"useProductActivity",function(){return C}),e.d(t,"getTourGradeCodeWithoutTime",function(){return b});var r=e("@babel/runtime/helpers/esm/slicedToArray"),a=e.n(r),u=function n(t){return Array.from(t,function(n){return a()(n,2)[1]}).reduce(function(n,t){return n+t},0)},o=function n(t,e){return t.some(function(n){if(!n.adult)return!1;var t=e.get(n.ageBandId);return t&&t>0})},i=function n(t){var e=!0;return t.forEach(function(n,t){1!==t&&n>0&&(e=!1)}),e},_=function n(t){var e=!0;return t.forEach(function(n,t){3!==t&&n>0&&(e=!1)}),!e},c=function n(t,e,r){for(var a=0;a<t.length;a++){var u=t[a],o=e.get(u.ageBandId);if(null!=o){if(u.maxPaxCount>0&&(o<u.minPaxCount||o>u.maxPaxCount))if(u.minPaxCount===u.maxPaxCount)switch(u.ageBandId){case 1:return r.string("exp_error_pax_exact_age_band_1",{0:u.maxPaxCount});case 2:return r.string("exp_error_pax_exact_age_band_2",{0:u.maxPaxCount});case 3:return r.string("exp_error_pax_exact_age_band_3",{0:u.maxPaxCount});case 4:return r.string("exp_error_pax_exact_age_band_4",{0:u.maxPaxCount});case 5:return r.string("exp_error_pax_exact_age_band_5",{0:u.maxPaxCount});default:return null}else if(0===u.minPaxCount)switch(u.ageBandId){case 1:return r.string("exp_error_pax_limited_to_age_band_1",{0:u.maxPaxCount});case 2:return r.string("exp_error_pax_limited_to_age_band_2",{0:u.maxPaxCount});case 3:return r.string("exp_error_pax_limited_to_age_band_3",{0:u.maxPaxCount});case 4:return r.string("exp_error_pax_limited_to_age_band_4",{0:u.maxPaxCount});case 5:return r.string("exp_error_pax_limited_to_age_band_5",{0:u.maxPaxCount});default:return null}else switch(u.ageBandId){case 1:return r.string("exp_error_pax_between_age_band_1",{0:u.minPaxCount,1:u.maxPaxCount});case 2:return r.string("exp_error_pax_between_age_band_2",{0:u.minPaxCount,1:u.maxPaxCount});case 3:return r.string("exp_error_pax_between_age_band_3",{0:u.minPaxCount,1:u.maxPaxCount});case 4:return r.string("exp_error_pax_between_age_band_4",{0:u.minPaxCount,1:u.maxPaxCount});case 5:return r.string("exp_error_pax_between_age_band_5",{0:u.minPaxCount,1:u.maxPaxCount});default:return null}if(o<u.minPaxCount)switch(u.ageBandId){case 1:return r.string("exp_error_pax_at_least_age_band_1",{0:u.maxPaxCount});case 2:return r.string("exp_error_pax_at_least_age_band_2",{0:u.maxPaxCount});case 3:return r.string("exp_error_pax_at_least_age_band_3",{0:u.maxPaxCount});case 4:return r.string("exp_error_pax_at_least_age_band_4",{0:u.maxPaxCount});case 5:return r.string("exp_error_pax_at_least_age_band_5",{0:u.maxPaxCount});default:return null}}}return null},s=function n(t){return Math.min(t.maxPaxCount,Math.max(t.minPaxCount,2))},x=function n(t){return new Map(t?t.map(function(n){return[n.ageBandId,"Adult"===n.description?s(n):0]}):[])},d=function n(t){return t?new Map(t.map(function(n){return[n.ageBandId,0]})):new Map},g=function n(t,e){return t?new Map(t.map(function(n){return[n.value,e.some(function(t){return t===n.value})]})):new Map},l=function n(t,e,r){var a,u=(null===(a=t.titleText)||void 0===a?void 0:a.text)||"",o=(t.startTime||"").match(/\d+/g);if(o&&o.length>1){var i=e.formatDate("time_12_24",new Date(0,0,0,parseInt(o[0],10),parseInt(o[1],10)));return r.string("attractions_booking_tourgrade_title_format",{sTourgradeTitle:u,sTime:i})}return u},f=function n(t,e){return 0===e.length||t.languageServices.some(function(n){return n&&e.some(function(t){return n.locale.startsWith(t)})})},m=function n(t){return Array.from(t.entries()).filter(function(n){return n[1]}).map(function(n){return n[0]})},p=function n(t,e,r,a){if(r)return a.string("attractions.booking.common_n_traveler",{0:e});if(e<1)return"";switch(t){case 1:return a.string("attractions.booking.common_n_adult",{0:e});case 2:return a.string("attractions.booking.common_n_child",{0:e});case 3:return a.string("attractions.booking.common_n_infant",{0:e});case 4:return a.string("attractions.booking.common_n_youth",{0:e});case 5:return a.string("attractions.booking.common_n_senior",{0:e});default:return""}},P=function n(t,e){var r=1===t.size;return function n(t){return 1===t.length?t[0]:t.join(", ")}(Array.from(t,function(n){return p(n[0],n[1],r,e)}).filter(function(n){return""!==n}))},C=function n(t,e){return{isInactive:e&&e.isInactive||t&&!t.size||!1}},b=function n(t){return t?t.split("~")[0]:""}}}});
//# sourceMappingURL=attractions.util-tour-planner.48afefd64b.js.map