($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/common.localstorage",e:["./packages/common/localstorage/localstorage.jsx"],m:{"./packages/common/localstorage/localstorage.jsx":function(e,n,t){"use strict";t.r(n);var o=function e(n){return function(){try{return n.apply(void 0,arguments)}catch(e){return null}}},a=function e(){return window&&window.localStorage?window.localStorage:null},l=o(function(e){var n=a();n&&n.removeItem(e)}),r=o(function(e){var n=a();if(!n)return null;var t=JSON.parse(n.getItem(e)||"0");return t?t.ttl&&t.ttl+t.now<(new Date).getTime()?(l(e),null):t.value:null}),u=o(function(e,n,t){var o=a();o&&o.setItem(e,JSON.stringify({ttl:t||0,now:(new Date).getTime(),value:n}))}),i=o(function(e,n){var t;"undefined"!=typeof window&&(null===(t=window)||void 0===t?void 0:t.addEventListener)&&window.addEventListener("storage",function t(o){if((null==o?void 0:o.key)===e){var a=JSON.parse(o.newValue),l=JSON.parse(o.oldValue),r=null==a?void 0:a.value,u=null==l?void 0:l.value;n(r,u)}},!1)});n.default={get:r,set:u,has:function e(n){return!!r(n)},remove:l,canUseLocalStorage:function e(){u("taLsTest","1");var n="1"===r("taLsTest");return l("taLsTest"),n},onValueChange:i}}}});
//# sourceMappingURL=common.localstorage.a16fd2c438.js.map