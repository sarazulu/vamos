($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/bbml.interactions",d:["vendor-babel","vendor-react-libs","lithium-platform","vendor-urql"],e:["./packages/bbml/interactions/interactions.jsx"],m:{"./packages/bbml/interactions/interactions.jsx":function(e,t,i){"use strict";i.r(t);var n=i("@babel/runtime/helpers/esm/defineProperty"),r=i.n(n),a=i("@babel/runtime/helpers/esm/slicedToArray"),o=i.n(a),s=i("react"),u=i("@ta/lithium.context"),c=i("urql"),l=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogBBMLInteraction"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"interaction"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"ClientInteractionOpaqueInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"logProductInteraction"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"interaction"},"value":{"kind":"Variable","name":{"kind":"Name","value":"interaction"}}}],"directives":[]}]}}],"loc":{"start":0,"end":136}}');l.__key=63551953992395,l.loc.source={body:"39ccd7a47acb"};var d=l;function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(i,!0).forEach(function(t){r()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}i.d(t,"getBUForPlaceType",function(){return y});var b={ACCOMMODATION:"Hotels",ACTIVITY:"Experiences",AIRLINE:"Flights",ALL:"Hotels",ATTRACTION:"Experiences",EATERY:"Restaurants",SHIP:"Cruises"},y=function e(t){return t&&t in b?b[t]:null};t.default=function e(t){var i=t||{},n=i.locationId,r=i.geoId,a=i.sessionId,l=i.servletName,m=Object(c.useMutation)(d),b=o()(m,2)[1],y=s.useContext(u.Device).id,v=s.useContext(u.Visitor),_=v.userId;a=a||v.sessionId;var f=s.useContext(u.Route),g=o()(f,1)[0];"number"==typeof g.params.geoId&&(r=r||"number"==typeof g.params.geoId?g.params.geoId:null),"number"==typeof g.params.detailId&&(n=n||"number"==typeof g.params.detailId?g.params.detailId:null),l=l||g.page;var I=s.useContext(u.Environment).domainName;return s.useCallback(function(e){var t=e.actionName,i=e.elementType,o=e.impressionKey,s=e.placementName,u=e.listingKey,c=e.itemAttributes,d=e.businessUnit,m=e.itemIdType,v=o||_,f=d||"Hotels",g=m||"ta-location-id",k={productInteraction:{interaction_type:"CLICK",site:{site_name:"ta",site_business_unit:f,site_domain:I},pageview:{pageview_request_uid:_,pageview_attributes:{location_id:n,geo_id:r,servlet_name:l}},user:{user_agent:navigator.userAgent,site_persistent_user_uid:y,unique_user_identifiers:{session_id:a}},search:{},item_group:{item_group_collection_key:v,item_group_name:s},item:{product_type:f,item_id_type:g,item_id:n,item_key:u,item_attributes:p({element_type:i,action_name:t},c)}}};b({interaction:k})},[I,r,n,b,l,a,_,y])}}}});
//# sourceMappingURL=bbml.interactions.613173c308.js.map