($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/attractions.product-tag",d:["vendor-react-libs","@ta/attractions.util-persistent-tooltip","lithium-platform","lithium-common","@ta/core-ui.merchandising-pill","@ta/common.features","vendor-babel","@ta/modal.styleguide","@ta/modal.headers"],e:["./packages/attractions/product-tag/product-tag.jsx"],m:{"./packages/attractions/product-tag/product-tag.jsx":function(e,t,a){"use strict";a.r(t);var n=a("react"),r=a("@ta/attractions.util-persistent-tooltip"),l=a("@ta/common.classnames"),o=a.n(l),i=a("@ta/core-ui.icon"),c=a.n(i),s=a("@ta/core-ui.merchandising-pill"),u=a.n(s),m=a("@ta/common.features"),d=a("@ta/platform.i18n"),p=function e(t,a){return a&&t.length>1?t[1]:!a&&t.length>0?t[0]:null},f=function e(t,a){var n=Object(d.useLocalize)().localize,r=a&&a.promoText||null;return r?{tag:n.string("attractions.booking.flag.special_offer"),message:r}:t.length>0?{tag:t[0],message:null}:null},g=function e(t){return parseInt(t.replace(/\D/g,""),10)},h=function e(t,a){if(Object(m.featureIsEnabled)("attraction_percentage_based_discount")&&t&&a){var n=g(t),r=g(a);if(r>n){var l=parseInt(100*(r-n)/r,10);return l>=10?l:0}}return 0},T=function e(t,a){var n=Object(d.useLocalize)().localize;return a||(t===n.string("attractions.booking.flag.best_seller")?"primary":"secondary")},E=function e(t){var a,l=T(t.productTag,t.type),i=t.tooltipText&&""!==t.tooltipText.trim(),s=n.createElement(c.a,{name:"question-circle"}),m=n.createElement("span",{dangerouslySetInnerHTML:{__html:t.tooltipText}});switch(t.margin){case"small":a="_2KTfN9Y3";break;case"none":a="-C0Xd32c";break;default:a="_12IpXqq5"}return n.createElement("div",{className:o()("di9mKu6S",a)},n.createElement(u.a,{type:l},n.createElement("span",null,t.productTag)),i&&n.createElement(r.PersistentTooltip,{fixed:t.fixedTooltip,target:s,content:m}))};E.defaultProps={fixedTooltip:!1};var b=E,v=a("@babel/runtime/helpers/esm/extends"),_=a.n(v),y=a("@babel/runtime/helpers/esm/slicedToArray"),x=a.n(y),P=a("@babel/runtime/helpers/esm/objectWithoutProperties"),I=a.n(P),N=a("@ta/modal.styleguide"),k=a.n(N),j=a("@ta/modal.headers"),C=function e(t){var a,r=t.productTag,l=t.type,i=t.margin,s=t.open,m=T(r,l);switch(i){case"small":a="_1vt4h9Bt";break;default:a="f5av5uy1"}return n.createElement("span",{className:o()(s&&"_7KfTtNLO"),onClick:s},n.createElement("span",{className:o()("_2mby8ucI",a)},n.createElement(u.a,{type:m},n.createElement("span",null,r)),s&&n.createElement("span",{className:"_1nq8ufC0"},n.createElement(c.a,{name:"question-circle"}))))},L=function e(t){t.headerTitle;var a=t.modalContent,r=I()(t,["headerTitle","modalContent"]),l=n.useState(!1),i=x()(l,2),c=i[0],s=i[1];if(!a)return n.createElement(C,r);var u=t.headerTitle?n.createElement(j.TitleBar,{displayType:"LEFT_ALIGN_GRAY"},t.headerTitle):void 0;return n.createElement(n.Fragment,null,n.createElement(C,_()({},r,{open:function e(){s(!0)}})),c&&n.createElement(k.a,{header:u,closeIconColor:"TA_GREEN_DARK"},n.createElement("div",{className:o()("message","_1gcddWvI")},a)))};L.defaultProps={margin:"default"};var O=L;a.d(t,"default",function(){return b}),a.d(t,"ProductTagModal",function(){return O}),a.d(t,"getHighestPriorityTagExceptSpecialOffer",function(){return p}),a.d(t,"computePercentOff",function(){return h}),a.d(t,"useHighestPriorityTagInfo",function(){return f})}}});
//# sourceMappingURL=attractions.product-tag.68dc8a5876.js.map