($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/a11y.focus",d:["vendor-react-libs","vendor-babel"],e:["./packages/a11y/focus/index.jsx"],m:{"./packages/a11y/focus/index.jsx":function(e,n,t){"use strict";t.r(n);var r=t("react"),u=t("@babel/runtime/helpers/esm/typeof"),o=t.n(u),c=t("@babel/runtime/helpers/esm/toConsumableArray"),s=t.n(c),i=t("@babel/runtime/helpers/esm/toArray"),a=t.n(i),l=t("@babel/runtime/helpers/esm/slicedToArray"),f=t.n(l),d=r.createContext(null),b={},m=function e(n,t){!b[t]&&n()&&(b[t]=setTimeout(function(){b[t]=null},50))},v=function e(n){var t=n.disableFocusOnMount,u=n.disableRestoreFocus,o=r.useRef(null),c=r.useContext(d),s=r.useRef(!1),i=r.useCallback(function(){return!(!o.current||!s.current||t||"function"!=typeof o.current.focus)&&(o.current.focus(),document.activeElement===o.current)},[o,t]);return r.useEffect(function(){return s.current=!0,function(){s.current=!1}},[]),r.useEffect(function(){m(i,"autoFocus")},[i]),r.useEffect(function(){return function(){!c||s.current||u||m(c,"restoreFocus")}},[c,u]),[o,i]},E=function e(n){var t=n.disableFocusOnMount,u=n.disableFocusRestorePoint,c=n.disableRestoreFocus,i=n.children,l=v({disableFocusOnMount:t,disableRestoreFocus:c}),b=f()(l,2),m=b[0],E=b[1],y=r.Children.toArray(i),F=a()(y),p=F[0],h=F.slice(1);null!==p&&"number"!=typeof p&&"string"!=typeof p&&"function"!=typeof p||console.error("First child must be a react element! Found: ".concat(p));var k=[r.cloneElement(p,{ref:function e(n){m.current=n,"function"==typeof p.ref?p.ref(n):"object"===o()(p.ref)&&p.ref&&(p.ref.current=n)}})].concat(s()(h));return u?k:r.createElement(d.Provider,{value:E},k)},y=function e(n){var t=n.disableFocusOnMount,u=n.disableFocusRestorePoint,o=n.disableRestoreFocus,c=n.type,s=n.children,i=r.useRef(null),a=r.useRef(null),l=r.useCallback(function(e){if(!e)return!1;if(e.disabled)return!1;if(e===i.current||e===a.current)return!1;if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;switch(e.nodeName){case"A":if(e instanceof HTMLAnchorElement)return e.href&&"ignore"!==e.rel;break;case"INPUT":if(e instanceof HTMLInputElement)return"hidden"!==e.type&&"file"!==e.type;break;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}return!1},[]),f=r.useCallback(function(e){return!!l(e)&&(e.focus(),document.activeElement===e)},[l]),d=r.useCallback(function(e){if(!e)return!1;for(var n=0;n<e.children.length;n++){var t=e.children[n];if(f(t)||d(t))return!0}return!1},[]),b=r.useCallback(function(e){if(!e)return!1;for(var n=e.children.length-1;n>=0;n--){var t=e.children[n];if(b(t)||f(t))return!0}return!1},[]),m=r.useCallback(function(e){for(var n=e;n&&!b(n);)n=n.previousElementSibling},[b]),v=r.useCallback(function(e){for(var n=e;n&&!d(n);)n=n.nextElementSibling},[d]),y=r.useCallback(function(){a.current&&m(a.current)},[m]),F=r.useCallback(function(){i.current&&v(i.current)},[v]),p=c||"div";return r.createElement(r.Fragment,null,r.createElement(p,{onFocus:y,tabIndex:0,ref:i}),r.createElement(E,{disableFocusRestorePoint:u,disableFocusOnMount:t,disableRestoreFocus:o},r.createElement(p,{tabIndex:-1,style:{outline:"none"}}),s),r.createElement(p,{onFocus:F,tabIndex:0,ref:a}))},F=function e(){var n=Object(r.useState)(!1),t=f()(n,2),u=t[0],o=t[1];return Object(r.useEffect)(function(){var e=function e(n){n.metaKey||n.altKey||n.ctrlKey||o(!0)},n=function e(){o(!1)};return document.addEventListener("mousedown",n,!0),document.addEventListener("pointerdown",n,!0),document.addEventListener("touchstart",n,!0),document.addEventListener("keydown",e,!0),function(){document.removeEventListener("mousedown",n,!0),document.removeEventListener("pointerdown",n,!0),document.removeEventListener("touchstart",n,!0),document.removeEventListener("keydown",e,!0)}},[]),u};t.d(n,"FocusTrap",function(){return y}),t.d(n,"AutoFocus",function(){return E}),t.d(n,"useAutoFocus",function(){return v}),t.d(n,"useKeyboardNavigationMode",function(){return F})}}});
//# sourceMappingURL=a11y.focus.b656b98684.js.map