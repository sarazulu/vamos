($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/brand.header",d:["vendor-react-libs","@ta/core-ui.responsive-container","@ta/login.login","lithium-platform","lithium-common","vendor-babel","vendor-urql","@ta/core-ui.avatar","@ta/memx.explicit-preferences-lithium","@ta/onboarding.explicit-preferences-external-tracking","@ta/platform.interactions","@ta/common.features","@ta/search.typeahead","@ta/brand.sponsored-geopill","@ta/events.window","@ta/common.hover-chain","@ta/overlays.popover","@ta/brand.context","@ta/seo.on-page-factors","@ta/common.breadcrumbs"],e:["./packages/brand/header/header.jsx"],m:{"./packages/brand/header/header.jsx":function(e,n,a){"use strict";a.r(n);var t=a("react"),i=a.n(t),l=a("@ta/core-ui.responsive-container"),r=a.n(l),o=a("@babel/runtime/helpers/esm/slicedToArray"),u=a.n(o),s=a("@ta/lithium.context"),c=a("@ta/platform.i18n"),d=a.n(c),m=a("@ta/platform.interactions"),v=a("@ta/core-ui.icon"),k=a.n(v),f=a("urql"),p=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"UnreadConversations"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"userId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"Inbox_unreadConversations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"userId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"userId"}}}]}}],"directives":[]}]}}],"loc":{"start":0,"end":114}}');p.__key=0x69b68242be90,p.loc.source={body:"69b68242be90"};var b=p,_=function e(){var n=i.a.useContext(s.Route),a=u()(n,2),l=a[0].params,r=a[1].uid,o=Object(c.useLocalize)().localize,d=Object(m.useInteractionLogger)(),v=function e(){var n=t.useContext(s.Visitor).userId,a=Object(f.useQuery)({query:b,variables:{userId:n||""},pause:!n}),i=u()(a,1)[0].data;return!(!i||!i.Inbox_unreadConversations)}(),p=i.a.useCallback(function(){d({GlobalNav:{postContentCtaClick:{action:"WRITE_REVIEW",entrypoint:"GLOBAL_NAV",locationId:"number"==typeof l.detailId?l.detailId:void 0,uid:r}}})},[d,l,r]),_=i.a.useCallback(function(){d({Trips:{elementClick:{element:"MASTHEADCTA",puid:r}}})},[d,r]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{className:"VAJ0U8tP",href:"/UserReview",title:o("ugc_uploader_review_v2"),onClick:p},i.a.createElement(k.a,{name:"pencil-paper"})),i.a.createElement("a",{className:"VAJ0U8tP",href:"/Inbox",title:o.string("inbox_title")},i.a.createElement(k.a,{name:"notification-bell"}),v&&i.a.createElement("div",{className:"_1IN5EYhD"})),i.a.createElement("a",{className:"VAJ0U8tP",href:"/Trips",title:o.string("trips_product_name"),onClick:_},i.a.createElement(k.a,{name:"heart"})))},g=a("@babel/runtime/helpers/esm/defineProperty"),N=a.n(g),E=a("@ta/memx.explicit-preferences-lithium"),h=a("@ta/onboarding.explicit-preferences-external-tracking"),y=a.n(h),S=a("@ta/events.event-boundary"),C=a.n(S),O=a("@ta/events.window"),x=a("@ta/login.login"),T=a.n(x),I=a("@ta/core-ui.button"),A=a.n(I),F=a("@ta/core-ui.avatar"),D=a("@ta/common.features"),w=a("@ta/common.classnames"),U=a.n(w),P=function e(){return i.a.createElement("hr",{className:"_2uFkqfmn"})},V=function e(n){var a=n.href,t=n.onClick,l=n.children;return i.a.createElement("a",{href:a,onClick:t,className:"_2xLNkWys"},l)},L=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"BrandHeaderProfile"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"userId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"memberProfile"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"userId"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"id"},"value":{"kind":"Variable","name":{"kind":"Name","value":"userId"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"site"},"value":{"kind":"EnumValue","value":"TRIPADVISOR"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"displayName"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"avatar"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"caption"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"photoSizes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"height"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"width"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"route"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"allOwnerStatuses"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"limit"},"value":{"kind":"IntValue","value":"1"}},{"kind":"Argument","name":{"kind":"Name","value":"verifiedOnly"},"value":{"kind":"BooleanValue","value":true}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"ownerStatus"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":337}}');L.__key=37694552873143,L.loc.source={body:"2248726f18b7"};var R=L,j=function e(n){var a=n.profileUrl,t=n.isOwner,l=n.onClose,r=i.a.useContext(s.Route),o=u()(r,1)[0],c=encodeURIComponent(o&&"/Unknown"!==o.path?o.path:"/"),v=Object(m.useGARecorder)(),k=i.a.useCallback(function(e){v({module:"UtilityNav",action:"click",value:0,context:e})},[v]);return Object(O.useWindow)("keydown",i.a.useCallback(function(e){e instanceof KeyboardEvent&&27===e.keyCode&&l()},[l]),void 0,!0),Object(O.useWindow)("click",l,void 0,!0),Object(O.useWindow)("touchstart",l,void 0,!0),i.a.createElement(C.a,{events:["onClick","onTouchStart"]},i.a.createElement("div",{className:"_3KcTE7GV"},i.a.createElement(V,{href:a,onClick:function e(){return k("UserProfile_viewProfile")}},i.a.createElement(d.a,{id:"ip_view_profile_1cf1"})),t&&i.a.createElement(V,{href:"/Owners",onClick:function e(){return k("UserProfile_ManagementCenter")}},i.a.createElement(d.a,{id:"global_nav_profile_my_business"})),Object(D.featureIsEnabled)("member_profile_bookings")&&i.a.createElement(V,{href:"/Bookings",onClick:function e(){return k("UserProfile_bookings")}},i.a.createElement(d.a,{id:"my_bookings_headtext_fffff9b3"})),i.a.createElement(V,{href:"/Settings-cp",onClick:function e(){return k("UserProfile_settings")}},i.a.createElement(d.a,{id:"mem_account_info"})),i.a.createElement(V,{href:"/NewsletterSignOut?returnTo=".concat(c),onClick:function e(){return k("UserProfile_signout")}},i.a.createElement(d.a,{id:"common_Signout"}))))},M=function e(){var n,a,t,l,r,o=i.a.useContext(s.Visitor).userId,c=i.a.useContext(s.Route),v=u()(c,1)[0],k=v&&"/Unknown"!==v.path?v.path:"/",p=Object(m.useGARecorder)(),b=T()(),_=Object(f.useQuery)({query:R,variables:{userId:o||""},pause:null===o}),g=u()(_,1)[0].data,h=i.a.useState(!1),S=u()(h,2),C=S[0],O=S[1],x="/RegistrationController?".concat(new URLSearchParams({flow:"sign_up_and_save",returnTo:k,fullscreen:"true",flowOrigin:"login",hideNavigation:"true"}).toString()),I=Object(E.useExplicitPreferencesLithiumModal)("PROFILE_ONLY",void 0,"MASTHEAD"),D=I.open,w=I.isEnabled,P=y()("ONBOARDING","JOIN_BUTTON").trackWouldOpenExplicitPreferences,V=i.a.useCallback(function(e){e.preventDefault(),b({flowOrigin:"login",flow:"sign_up_and_save",pid:40486}).then(function(e){p({module:"Masthead_signin",action:"signin"}),(null==e?void 0:e.hasCreatedMember)&&(P(),w&&D())})},[b,p,P,D,w]);if(null==o)return i.a.createElement("a",{className:"pnI_yZEP",href:x,onClick:V},i.a.createElement(A.a,{elementType:"span",fullWidth:!0,size:"large",theme:"primary"},i.a.createElement(d.a,{id:"common_Signin"})));var L=(null==g?void 0:null===(n=g.memberProfile)||void 0===n?void 0:n.displayName)||"",M=(null==g?void 0:null===(a=g.memberProfile)||void 0===a?void 0:null===(t=a.route)||void 0===t?void 0:t.url)||"",B=null==g?void 0:null===(l=g.memberProfile)||void 0===l?void 0:null===(r=l.avatar)||void 0===r?void 0:r.photoSizes,z=null!=(null==g?void 0:g.allOwnerStatuses)&&(null==g?void 0:g.allOwnerStatuses.length)>0;return i.a.createElement("div",{className:"i06MAC5x"},i.a.createElement("a",{className:U()("_2Jnt0UHM",N()({},"_14qSgvoI",C)),href:M,title:L,onClick:function e(n){n.preventDefault(),O(!0)},"aria-expanded":C,"aria-label":L},i.a.createElement(F.Avatar,{size:"small",sources:B||void 0,notLazy:!0})),C&&i.a.createElement(j,{profileUrl:M,isOwner:z,onClose:function e(){return O(!1)}}))},B=a("@ta/lithium.portals"),z=a("@ta/platform.import"),W=function e(n){var a=n.isOwner,t=i.a.useContext(s.Route),l=u()(t,2),r=l[0].params,o=l[1].uid,d=Object(c.useLocalize)().localize,v=Object(m.useInteractionLogger)(),k=Object(m.useGARecorder)(),f=i.a.useCallback(function(e){k({module:"UtilityNav",action:"click",value:0,context:e})},[k]),p=i.a.useCallback(function(){v({GlobalNav:{postContentCtaClick:{action:"WRITE_REVIEW",entrypoint:"GLOBAL_NAV",locationId:"number"==typeof r.detailId?r.detailId:void 0,uid:o}}})},[v,r,o]),b=i.a.useCallback(function(){v({Trips:{elementClick:{element:"MASTHEADCTA",puid:o}}})},[v,o]);return i.a.createElement(i.a.Fragment,null,a&&i.a.createElement("a",{className:"_3dySAjUW",href:"/Owners","aria-label":d.string("global_nav_profile_my_business"),onClick:function e(){return f("UserProfile_ManagementCenter")}},i.a.createElement("span",{className:"_2CA1mbCF"},d("global_nav_profile_my_business"))),i.a.createElement("a",{className:"_3dySAjUW",href:"/UserReview","aria-label":d("ugc_uploader_review_v2"),onClick:p},i.a.createElement("span",{className:"_2CA1mbCF"},d("ugc_uploader_review_v2"))),i.a.createElement("a",{className:"_3dySAjUW",href:"/Inbox","aria-label":d.string("inbox_title"),onClick:function e(){return f("UserProfile_inbox")}},i.a.createElement("span",{className:"_2CA1mbCF"},d("inbox_title"))),i.a.createElement("a",{className:"_3dySAjUW",href:"/Trips","aria-label":d.string("trips_product_name"),onClick:b},i.a.createElement("span",{className:"_2CA1mbCF"},d("trips_product_name"))),i.a.createElement("a",{className:"_3dySAjUW",href:"/Bookings","aria-label":d.string("my_bookings_headtext_fffff9b3"),onClick:function e(){return f("UserProfile_bookings")}},i.a.createElement("span",{className:"_2CA1mbCF"},d("my_bookings_headtext_fffff9b3"))),Object(D.featureIsEnabled)("insurance_quicklink")&&i.a.createElement("a",{className:"_3dySAjUW",href:"/Insurance","aria-label":d.string("insurance_title"),onClick:function e(){return f("UserProfile_insurance")}},i.a.createElement("span",{className:"_2CA1mbCF"},d("insurance_title"))))},q=a("@babel/runtime/helpers/esm/objectWithoutProperties"),G=a.n(q),H=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"BrandHeaderNavLinks"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"page"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locale"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"params"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Map_String_StringScalar"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"globalNavLinks"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"servlet"},"value":{"kind":"Variable","name":{"kind":"Name","value":"page"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"pos"},"value":{"kind":"Variable","name":{"kind":"Name","value":"locale"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"urlParameters"},"value":{"kind":"Variable","name":{"kind":"Name","value":"params"}}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"sublinks"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"anchorText"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"linkId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sublinks"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"anchorText"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"linkId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sublinks"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"anchorText"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"linkId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]}]}}]}}]}}]}}]}}],"loc":{"start":0,"end":410}}');H.__key=0xf1f796ad9e2b,H.loc.source={body:"f1f796ad9e2b"};var J,Q=H,Y=function e(n,a){var t,l,r=i.a.useContext(s.Route),o=u()(r,1)[0],c=i.a.useContext(s.Environment).locale.code;if(null!=n){var d=n;t=d.page,l=G()(d,["page"])}else t=o.page,l=o.params;null!=l.latitude&&null!=l.longitude&&(l={});var m=Object(f.useQuery)({query:Q,variables:{locale:c,page:t,params:l},pause:a}),v=u()(m,1)[0];return{data:v.data,fetching:v.fetching}},K=z.component.onUsage(((J=function e(){return a.e("@ta/modal.slide-in")}).__PACKAGE__="@ta/brand.header",J.__MODULE_ID__="@ta/modal.slide-in",J.__MODULE_NAME__="@ta/modal.slide-in",J.__BUNDLE_NAME__="@ta/modal.slide-in",J.__GET_SYNC__=function(){return a.m["@ta/modal.slide-in"]?a("@ta/modal.slide-in"):null},J.__IS_LOADED__=function(){return void 0!==a.m["@ta/modal.slide-in"]},J),"default"),X=z.component.onUsage(function(){var e=function e(){return a.e("@ta/brand.help-center")};return e.__PACKAGE__="@ta/brand.header",e.__MODULE_ID__="@ta/brand.help-center",e.__MODULE_NAME__="@ta/brand.help-center",e.__BUNDLE_NAME__="@ta/brand.help-center",e.__GET_SYNC__=function(){return a.m["@ta/brand.help-center"]?a("@ta/brand.help-center"):null},e.__IS_LOADED__=function(){return void 0!==a.m["@ta/brand.help-center"]},e}(),"default"),Z=new Set(["scoped-home"]),$=function e(n){return"/RegistrationController?flow=core_combined&pid=40486&returnTo=".concat(n,"&fullscreen=true&flowOrigin=login&hideNavigation=true")},ee=function e(n){var a=n.link,i=a.linkId||"more",l="HelpDesk"===i?"/help":a.url||"",r=Object(B.useVDOMPortal)(function(e){var n=e.close;return t.createElement(X,{onClose:n})}).open,o=t.useState(!1),s=u()(o,2),c=s[0],m=s[1],v=t.useCallback(function(e){"HelpDesk"===i?(r(),e.preventDefault()):"more"===i&&(m(!0),e.preventDefault())},[i,r]);return a.linkId&&Z.has(a.linkId)?null:c&&null!=a.sublinks&&a.sublinks.length>0?t.createElement(t.Fragment,null,a.sublinks.map(function(n){return null!=n&&t.createElement(e,{key:n.linkId||"",link:n})})):t.createElement(V,{key:i||"more",href:l,onClick:v},null!=a.anchorText?a.anchorText:t.createElement(t.Fragment,null,t.createElement(d.a,{id:"common_more_capital_ffffe27f"})," ",t.createElement(k.a,{name:"single-chevron-down"})))},ne=function e(n){var a=t.useContext(s.Visitor).userId,i=t.useContext(s.Route),l=u()(i,1)[0],r=encodeURIComponent(l&&"/Unknown"!==l.path?l.path:"/"),o=Object(E.useExplicitPreferencesLithiumModal)("PROFILE_ONLY",void 0,"MASTHEAD"),c=o.open,m=o.isEnabled,v=y()("ONBOARDING","JOIN_BUTTON").trackWouldOpenExplicitPreferences,k=n.login,f=t.useCallback(function(e){e.preventDefault(),k({flowOrigin:"login",pid:40486,flow:"sign_up_and_save"}).then(function(e){(null==e?void 0:e.hasCreatedMember)&&m&&(v(),c())})},[k,v,c,m]);if(null!==a&&n.fetching)return null;if(null!==a&&n.data&&n.data.memberProfile){var p,b,_,g,N=(null===(p=n.data)||void 0===p?void 0:null===(b=p.memberProfile)||void 0===b?void 0:null===(_=b.avatar)||void 0===_?void 0:_.photoSizes)||null;return t.createElement("a",{href:null===(g=n.data.memberProfile.route)||void 0===g?void 0:g.url,className:"_2jziIT63"},t.createElement("div",{className:"_2f2xFqpf"},N&&t.createElement(F.Avatar,{sources:N})),t.createElement("div",{className:"_2iVX9v9j"},n.data.memberProfile.displayName))}return null!==a?null:t.createElement("a",{className:"_3wlpDk-n",href:$(r)},t.createElement(A.a,{elementType:"span",fullWidth:!0,size:"large",theme:"primary",onClick:f},t.createElement(d.a,{id:"common_Signin"})))},ae=function e(n){var a=t.useContext(s.Visitor).userId,i=t.useContext(s.Route),l=u()(i,1)[0],r=t.useState(!0),o=u()(r,2),c=o[0],m=o[1],v=n.login,k=t.useCallback(function(){c&&(m(!1),setTimeout(n.close,250))},[c,m,n.close]),p=Object(f.useQuery)({query:R,variables:{userId:a||""},pause:null===a}),b=u()(p,1)[0],_=b.data,g=b.fetching,N=Y(n.scope),E=N.data,h=N.fetching,y=E&&E.globalNavLinks&&E.globalNavLinks.sublinks&&E.globalNavLinks.sublinks.map(function(e){return e&&t.createElement(ee,{key:e.linkId||"more",link:e})})||null,S=encodeURIComponent(l&&"/Unknown"!==l.path?l.path:"/"),C=null!=(null==_?void 0:_.allOwnerStatuses)&&_.allOwnerStatuses.length>0;return t.createElement(K,{isOpen:c,slideFrom:"left",backdropShade:"light",onClose:k},t.createElement("div",{className:"_32cpp6LZ"},t.createElement(ne,{data:_,fetching:g,login:v}),t.createElement("div",{className:"_1Csq3V9R"},t.createElement(W,{isOwner:C})),h?null:t.createElement(t.Fragment,null,t.createElement(P,null),y),null!=a&&t.createElement(t.Fragment,null,t.createElement(P,null),t.createElement(V,{href:"/MobileNativeSettings"},t.createElement(d.a,{id:"mem_settings"})),t.createElement(V,{href:"/RegistrationController?flow=sign_out&pid=1&returnTo=".concat(S,"&fullscreen=true")},t.createElement(d.a,{id:"common_Signout"})," "))))},te=function e(n){var a=n.link,i=!a.linkId,l="HelpDesk"===a.linkId?"/help":a.url||"";return a.linkId&&Z.has(a.linkId)?null:i&&null!=a.sublinks&&a.sublinks.length>0?t.createElement(t.Fragment,null,a.sublinks.map(function(n){return null!=n&&t.createElement(e,{key:n.linkId||"",link:n})})):t.createElement(t.Fragment,null,a.linkId&&a.anchorText?t.createElement("a",{href:l},a.anchorText):null)},ie=function e(n){var a=t.useContext(s.Route),i=u()(a,1)[0],l=Object(c.useLocalize)().localize,r=Y(n.scope).data,o=r&&r.globalNavLinks&&r.globalNavLinks.sublinks&&r.globalNavLinks.sublinks.map(function(e){return e&&t.createElement(te,{key:e.linkId||"more",link:e})})||null,d=encodeURIComponent(i&&"/Unknown"!==i.path?i.path:"/");return t.createElement("div",{className:"U8q0piBE"},t.createElement("a",{href:"/UserReview"},l("ugc_uploader_review_v2")),t.createElement("a",{href:"/Inbox"},l("inbox_title")),t.createElement("a",{href:"/Trips"},l("trips_product_name")),t.createElement("a",{href:"/Bookings"},l("my_bookings_headtext_fffff9b3")),t.createElement("a",{href:$(d)},l("common_Signin")),o)},le=function e(n){var a=n.scope,t=Object(c.useLocalize)().localize,l=T()(),r=Object(B.useVDOMPortal)(function(e){var n=e.close;return i.a.createElement(ae,{scope:a,close:n,login:l})}).open;return i.a.createElement("button",{className:"_3tKR4Vlr",onClick:r,title:t.string("mw_common_menu_fffffd37"),"aria-label":t.string("mw_common_menu_fffffd37")},i.a.createElement(k.a,{name:"menu-bars"}),i.a.createElement(ie,{scope:a}))},re=function e(){var n=i.a.useContext(s.Environment).cdnPrefix,a=i.a.useContext(s.Route),t=u()(a,1)[0].path,l="".concat(n,"/img2/brand_refresh/Tripadvisor_lockup_horizontal_secondary_registered.svg");return"/"===t?i.a.createElement("div",{className:"_1gs4JsPa"},i.a.createElement("img",{className:"_1AlVlFFs",src:l,alt:"Tripadvisor"})):i.a.createElement("a",{className:"_1gs4JsPa",href:"/"},i.a.createElement("img",{className:"_1AlVlFFs",src:l,alt:"Tripadvisor"}))},oe=a("@ta/search.typeahead"),ue=a.n(oe),se=a("@ta/brand.sponsored-geopill"),ce=function e(n){var a=n.scope,t=i.a.useContext(s.Route),l=u()(t,2),r=l[0].params,o=l[1].uid,c={geoId:1};return null!=a?(null!=a.geo&&a.geo>1&&(c.geoId=a.geo),null!=a.page&&(c.pageType=oe.pageToTypeMappings[a.page]),null!=a.latitude&&null!=a.longitude&&(c.latitude=a.latitude,c.longitude=a.longitude)):("number"==typeof r.geoId&&(c.geoId=r.geoId),"number"==typeof r.latitude&&"number"==typeof r.longitude&&(c.latitude=r.latitude,c.longitude=r.longitude)),i.a.createElement("div",{className:"_3_CFaclw"},i.a.createElement("div",{className:"WmEK0bU8"},i.a.createElement(se.GeoPillSponsor,{adAreaId:"globalnav"},function(e){return i.a.createElement(ue.a,{key:o,source:"SINGLE_SEARCH_NAV",scope:c,color:"white",styleVariant:"expanding_right",sponsorDataProvider:e})})))},de=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"BrandHeaderBreadcrumbs"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"pageName"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"relativeUrl"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"parameters"}},"type":{"kind":"NonNullType","type":{"kind":"ListType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Internallinks_ParametersInput"}}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"breadcrumbs"},"name":{"kind":"Name","value":"Internallinks_buildBreadcrumbs"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"requests"},"value":{"kind":"ListValue","values":[{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"pageName"},"value":{"kind":"Variable","name":{"kind":"Name","value":"pageName"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"relativeUrl"},"value":{"kind":"Variable","name":{"kind":"Name","value":"relativeUrl"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"parameters"},"value":{"kind":"Variable","name":{"kind":"Name","value":"parameters"}}}]}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"breadcrumbs"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"text"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"localizedText"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"obfuscated"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":368}}');de.__key=0xf724b2926ef5,de.loc.source={body:"f724b2926ef5"};var me=de,ve=a("@babel/runtime/helpers/esm/toConsumableArray"),ke=a.n(ve),fe=a("@ta/common.hover-chain"),pe=a.n(fe),be=a("@ta/overlays.popover"),_e=z.component.onUsage(function(){var e=function e(){return a.e("@ta/brand.help-center")};return e.__PACKAGE__="@ta/brand.header",e.__MODULE_ID__="@ta/brand.help-center",e.__MODULE_NAME__="@ta/brand.help-center",e.__BUNDLE_NAME__="@ta/brand.help-center",e.__GET_SYNC__=function(){return a.m["@ta/brand.help-center"]?a("@ta/brand.help-center"):null},e.__IS_LOADED__=function(){return void 0!==a.m["@ta/brand.help-center"]},e}(),"default"),ge=function e(n){var a=n.link,i=n.forceRenderSublinks,l=void 0!==i&&i,r=t.useState(void 0),o=u()(r,2),s=o[0],c=o[1],d=Object(B.useVDOMPortal)(function(e){var n=e.close;return t.createElement(_e,{onClose:n})});return a.sublinks?t.createElement(t.Fragment,null,t.createElement("div",{className:"_1rViNeMQ"},a.sublinks.map(function(e){if(!e)return null;var n="HelpDesk"===e.linkId?function(e){d.open(),e.preventDefault()}:void 0;return t.createElement("a",{key:e.anchorText,href:e.url,className:"_3dzhM29n",onMouseEnter:function n(){return c(e.anchorText)},onClick:n},e.anchorText,e.sublinks&&e.sublinks.length&&t.createElement("span",{className:"_2NUrzJuG"},t.createElement(k.a,{name:"single-chevron-right",color:"grayDottedSeparator",fontSize:16}))||null)})),t.createElement("div",{className:"UsrtonZ6"},a.sublinks&&a.sublinks.map(function(e){return e&&e.sublinks&&(l||s===e.anchorText)?e.sublinks&&e.sublinks.map(function(e){return e&&t.createElement("a",{key:e.anchorText,href:e.url,className:"_3dzhM29n"},e.anchorText)}):null}))):null},Ne=function e(n){var a=n.anchorRef,i=n.parentPtr,l=n.link,r=n.active,o=n.activeDropdown,u=t.useRef();return t.createElement(t.Fragment,null,t.createElement("a",{ref:a,className:U()("_1T4t-FiN",N()({},"_1T2xZ2DX",r)),href:l.url},t.createElement("span",{ref:u,className:"_3dv66Lr7"},l.anchorText?l.anchorText:t.createElement(k.a,{fontSize:26,name:"more-horizontal"}))),o&&l.sublinks&&l.sublinks.length&&t.createElement(pe.a,{hoverChainParent:i},function(e){return t.createElement(be.Popover,{below:!0,fullBleed:!0,anchor:u.current,shiftY:-1,alignEdge:"left",arrowType:"none",closeButton:!1},t.createElement("div",{ref:e,className:"_1gJM1GwC"},t.createElement(ge,{link:l,forceRenderSublinks:!1})))})||null,!o&&l.sublinks&&l.sublinks.length&&t.createElement("div",{className:"_3L6PMWlx"},t.createElement(ge,{link:l,forceRenderSublinks:!0}))||null)},Ee=function e(){var n,a=t.useContext(s.Route),i=u()(a,1)[0],l=Y().data,o=t.useState([]),c=u()(o,2),d=c[0],m=c[1],v=function e(n){switch(n){case"Attractions":case"AttractionProductReview":return"attractions";case"Tourism":return"scoped-home";case"RentalCars":case"RentalCarsAirport":case"RentalCarsGeo":return"cars";default:return null}}(i.page);return l&&l.globalNavLinks&&l.globalNavLinks.sublinks?n=l.globalNavLinks.sublinks.filter(function(e){return e}).map(function(e){return e&&t.createElement(pe.a,{key:e.anchorText,mouseOverHandler:function n(){m(function(n){return[e.anchorText].concat(ke()(n))})},mouseOutHandler:function n(){m(function(n){return n.filter(function(n){return n!==e.anchorText})})}},function(n,a){return t.createElement(Ne,{anchorRef:n,parentPtr:a,link:e,active:v===e.linkId,activeDropdown:d.indexOf(e.anchorText)>=0})})}):(n=Array(8).fill().map(function(e,n){return t.createElement("div",{key:n,className:U()("_3PeMrYNR","_1T4t-FiN")})})).push(null),t.createElement("nav",{className:"jOdFitX3"},t.createElement(r.a,null,t.createElement("div",{className:"BBb9BS8P"},t.createElement("div",{className:"_1dYA0Xt1"},n.slice(0,-1)),n.slice(-1))))},he=a("@ta/brand.context"),ye=a("@ta/seo.on-page-factors"),Se=a.n(ye),Ce=a("@ta/common.breadcrumbs"),Oe=["Tourism"],xe=function e(){var n=t.useContext(s.Route),a=u()(n,1)[0],i=a.page,l=a.path,r=a.params,o=t.useMemo(function(){return Object.entries(r).map(function(e){var n=u()(e,2),a=n[0],t=n[1];return{key:a,value:String(t)}})},[r]),c=Object(f.useQuery)({query:me,variables:{pageName:i,relativeUrl:l,parameters:o}}),d=u()(c,1)[0],m=d.data,v=d.fetching,k=Oe.includes(i),p=Y(void 0,!k).data,b=t.useMemo(function(){var e,n;return(null==p?void 0:null===(e=p.globalNavLinks)||void 0===e?void 0:null===(n=e.sublinks)||void 0===n?void 0:n.filter(Boolean))||[]},[p]),_=t.useMemo(function(){var e,n,a,t;return null==m?void 0:null===(e=m.breadcrumbs)||void 0===e?void 0:null===(n=e[0])||void 0===n?void 0:null===(a=n.breadcrumbs)||void 0===a?void 0:null===(t=a.filter(Boolean))||void 0===t?void 0:t.map(function(e){return{href:e.url||"",name:e.text||e.localizedText||"",obfuscated:!!e.obfuscated}})},[m]),g=t.useContext(he.FeatureContext).brandRefresh;return v&&!_?t.createElement("div",{className:U()("_2eGQQUlR",N()({},"_2pqLYQQw",g))}):!!_&&t.createElement(Ce.InlineBreadcrumbs,{breadcrumbs:_,navLinks:k?b:void 0,fontSize:g?14:11})},Te=function e(){var n=Se()();return t.createElement(r.a,null,t.createElement(he.FeatureProvider,null,t.createElement(he.FeatureContext.Consumer,null,function(e){return t.createElement("div",{className:U()("_1hdznqHu",N()({},"_79LTGUtc",e.brandRefresh))},t.createElement("div",{className:"_2DZf9y0p"},t.createElement(xe,null)),(null==n?void 0:n.MASTHEAD_H1)&&t.createElement("h1",{className:"_1eh3MeEW"},n.MASTHEAD_H1))})))};a.d(n,"BreadcrumbsQuery",function(){return me}),a.d(n,"NavLinks",function(){return Ee}),a.d(n,"OnPageAssets",function(){return Te}),a.d(n,"useNavLinks",function(){return Y}),n.default=function e(n){var a=n.scope;return i.a.createElement("header",{className:"_3wrX4B4P"},i.a.createElement(r.a,null,i.a.createElement("nav",{className:"c35hjqC_"},i.a.createElement(le,{scope:a}),i.a.createElement(re,null),i.a.createElement(ce,{scope:a}),i.a.createElement(_,null),i.a.createElement(M,null))))}}}});
//# sourceMappingURL=brand.header.c04c184b11.js.map