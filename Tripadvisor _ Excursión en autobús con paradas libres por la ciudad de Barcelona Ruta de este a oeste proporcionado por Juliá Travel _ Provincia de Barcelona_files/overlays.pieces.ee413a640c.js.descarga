($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/overlays.pieces",d:["vendor-react-libs","vendor-babel","lithium-platform"],e:["./packages/overlays/pieces/pieces.jsx"],m:{"./packages/overlays/pieces/pieces.jsx":function(e,t,r){"use strict";r.r(t);var n=r("react"),o=function e(t){var r=t.inverted,o=t.children;return n.createElement("div",{className:"".concat("zGG8H0c4").concat(r?" ".concat("_15V4pxhy"):"")},o)};o.defaultProps={inverted:!1};var s=o,i=r("@babel/runtime/helpers/esm/classCallCheck"),a=r.n(i),c=r("@babel/runtime/helpers/esm/createClass"),p=r.n(c),u=r("@babel/runtime/helpers/esm/possibleConstructorReturn"),l=r.n(u),h=r("@babel/runtime/helpers/esm/getPrototypeOf"),f=r.n(h),d=r("@babel/runtime/helpers/esm/assertThisInitialized"),m=r.n(d),v=r("@babel/runtime/helpers/esm/inherits"),y=r.n(v),T=r("@babel/runtime/helpers/esm/defineProperty"),g=r.n(T),b=r("@ta/lithium.portals"),k=r("@ta/common.classnames"),x=r.n(k),E=function e(t){return!!function e(t){if(!t||t.getAttribute("data-skip-focus")||t.disabled)return!1;if(t.tabIndex>0||0===t.tabIndex&&null!==t.getAttribute("tabIndex"))return!0;switch(t.nodeName){case"A":return t.href&&"ignore"!==t.rel;case"INPUT":return"hidden"!==t.type&&"file"!==t.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}(t)&&(t.focus(),document.activeElement===t)},L=function e(t){if(!t)return!1;for(var r=0;r<t.children.length;r++){var n=t.children[r];if(E(n)||e(n))return!0}return!1},w=function e(t){if(!t)return!1;for(var r=t.children.length-1;r>=0;r--){var n=t.children[r];if(E(n)||e(n))return!0}return!1},F=function(e){function t(){var e,r;a()(this,t);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return r=l()(this,(e=f()(t)).call.apply(e,[this].concat(s))),g()(m()(r),"focusFirstDescendant",function(){r.overlayNode.current&&L(r.overlayNode.current)}),g()(m()(r),"focusLastDescendant",function(){r.overlayNode.current&&w(r.overlayNode.current)}),g()(m()(r),"overlayNode",n.createRef()),g()(m()(r),"focusTrap1",n.createRef()),g()(m()(r),"focusTrap2",n.createRef()),r}return y()(t,e),p()(t,[{key:"componentDidMount",value:function e(){"modal"===this.props.overlayType&&this.addFocusTrapListeners()}},{key:"componentDidUpdate",value:function e(t){"modal"!==t.overlayType&&"modal"===this.props.overlayType?this.addFocusTrapListeners():"modal"===t.overlayType&&"modal"!==this.props.overlayType&&this.removeFocusTrapListeners()}},{key:"componentWillUnmount",value:function e(){this.removeFocusTrapListeners()}},{key:"getStyles",value:function e(){var t=this,r={};if(r.perspective=this.props.perspective,this.props.transitionProperties){var n=[];this.props.transitionProperties.forEach(function(e){var t=e.timingFunction?" ".concat(e.timingFunction):"",r=e.delay?" ".concat(e.delay,"ms"):"";n.push("".concat(e.property," ").concat(e.timing,"ms").concat(t).concat(r))}),n.length>0&&(r.transition=n.join(", "))}var o=[];return r.position=this.props.position.position||"absolute",["top","left","bottom","right"].forEach(function(e){var n=t.props.position[e];r[e]=n||"auto"}),this.props.position.zIndex&&(r.zIndex=this.props.position.zIndex),this.props.position.transformOrigin&&(r.transformOrigin=this.props.position.transformOrigin),this.props.position.transform&&o.push(this.props.position.transform),r.transform=o.join(" "),this.props.position.maxHeight&&(r.maxHeight=this.props.position.maxHeight,r.overflowY="hidden"),this.props.position.height&&(r.height=this.props.position.height),this.props.position.width&&(r.width=this.props.position.width),void 0!==this.props.opacity&&(r.opacity=this.props.opacity),r}},{key:"addFocusTrapListeners",value:function e(){this.focusTrap1.current&&this.focusTrap1.current.focus(),this.focusTrap1.current&&this.focusTrap1.current.addEventListener("focus",this.focusLastDescendant),this.focusTrap2.current&&this.focusTrap2.current.addEventListener("focus",this.focusFirstDescendant)}},{key:"removeFocusTrapListeners",value:function e(){this.focusTrap1.current&&this.focusTrap1.current.removeEventListener("focus",this.focusLastDescendant),this.focusTrap2.current&&this.focusTrap2.current.removeEventListener("focus",this.focusFirstDescendant)}},{key:"render",value:function e(){var t,r=x()("_1HphCM4i",(t={},g()(t,"WBhK2hH0","background"===this.props.overlayType),g()(t,"_1QF7P5TQ","tooltip"===this.props.overlayType),g()(t,"_2z_Bckkh","popover"===this.props.overlayType),t)),o=this.getStyles(),s=this.props.autoFocus?n.createElement(n.Fragment,null,n.createElement("div",{tabIndex:0,className:"_1uOuyC8x",ref:this.focusTrap1,"data-skip-focus":!0}),this.props.children,n.createElement("div",{tabIndex:0,className:"_1uOuyC8x",ref:this.focusTrap2,"data-skip-focus":!0})):this.props.children;return n.createElement(b.OverlayPortal,{style:o,className:r,ref:this.overlayNode},s)}}]),t}(n.Component);g()(F,"defaultProps",{perspective:void 0,overlayType:"modal"});var N=F,P=function(e){function t(){var e,r;a()(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return r=l()(this,(e=f()(t)).call.apply(e,[this].concat(o))),g()(m()(r),"state",{target:null}),g()(m()(r),"setTarget",function(e){r.renderTimeTarget=e}),g()(m()(r),"renderTimeTarget",null),r}return y()(t,e),p()(t,[{key:"componentDidMount",value:function e(){this.setState({target:this.renderTimeTarget})}},{key:"render",value:function e(){return this.props.children(this.setTarget,this.state.target)}}]),t}(n.Component),_=n.createContext("entered"),C={arrow:"_2fhqm04s",inverted:"_3LDrfwn9",small:"_3QRvHnro",top:"_1UHNlqcC",bottom:"_2pFXT7cS",left:"_12MakRw9",right:"_2B3lpUPL"},A=function e(t){var r,o=t.on,s=t.from,i=t.offset,a=t.small,c=t.inverted,p="center"===s?(r={},g()(r,"top"===o||"bottom"===o?"left":"top","50%"),g()(r,"transform","top"===o||"bottom"===o?"translate(-50%)":"translateY(-50%)"),r):g()({},s,"".concat(i,"px")),u=[C.arrow,C[o],a?C.small:null,c?C.inverted:null].filter(function(e){return e}).join(" ");return n.createElement("div",{className:u,style:p})};A.defaultProps={from:"center",offset:0,small:!1,inverted:!1};var D=A;r.d(t,"ShadowBox",function(){return s}),r.d(t,"Overlay",function(){return N}),r.d(t,"Target",function(){return P}),r.d(t,"Transition",function(){return _}),r.d(t,"Arrow",function(){return D}),r.d(t,"ArrowSize",function(){return 12}),r.d(t,"SmallArrowSize",function(){return 7})}}});
//# sourceMappingURL=overlays.pieces.ee413a640c.js.map