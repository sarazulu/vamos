($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/attractions.shelf-product",d:["vendor-babel","vendor-react-libs","@ta/attractions.category-tag","@ta/attractions.save-button","@ta/attractions.translation-attribution","@ta/attractions.util-from-price","@ta/attractions.util-link-wrapper","lithium-platform","lithium-common","@ta/platform.interactions","@ta/attractions.util-product-label-tag","@ta/common.features","@ta/core-ui.merchandising-ribbon","@ta/styleguide.skeleton"],e:["./packages/attractions/shelf-product/ShelfProduct.jsx"],m:{"./packages/attractions/shelf-product/ShelfProduct.jsx":function(e,t,a){"use strict";a.r(t);var n=a("@babel/runtime/helpers/esm/extends"),r=a.n(n),o=a("react"),i=a("@ta/attractions.category-tag"),l=a.n(i),c=a("@ta/attractions.save-button"),s=a.n(c),m=a("@ta/attractions.translation-attribution"),u=a("@ta/attractions.util-from-price"),d=a.n(u),p=a("@ta/attractions.util-link-wrapper"),E=a.n(p),_=a("@ta/common.classnames"),f=a.n(_),b=a("@ta/common.is-visible"),g=a("@ta/core-ui.bubble-rating"),v=a("@ta/core-ui.button"),N=a.n(v),k=a("@ta/platform.interactions"),L=a("@ta/platform.i18n"),A=a.n(L),h=a("@babel/runtime/helpers/esm/defineProperty"),T=a.n(h),P=a("@ta/attractions.util-product-label-tag"),C=a("@ta/common.features"),D=a("@ta/media.image"),O=a("@ta/core-ui.icon"),y=a.n(O),I=a("@ta/core-ui.merchandising-ribbon"),S=a.n(I),U=a("@ta/styleguide.skeleton"),x=a.n(U),R={SOLID:null,LANDSCAPE:"_3zWkcJ9w",LANDSCAPE_ELONGATED:"_1DOtjR3O",TICKETBANNER:"_2i8LmuOu",FULLBLEED:null,DEFAULT:null},w={CINEMA:"_1Q-MzLx2",LANDSCAPE:"_1x4cv6Y5",TV:"_2JE4smbH",DEFAULT:null},M=function e(t){var a,n,i=Object(k.useGARecorder)(),l=Object(P.useLocalizedLabel)(null==t?void 0:null===(a=t.productLabelTag)||void 0===a?void 0:a.labelType)||(null===(n=t.productLabelTag)||void 0===n?void 0:n.localizedText);return o.createElement(E.a,r()({url:t.url,className:f()("_1zqXepI-",w[t.imageProportions||"DEFAULT"],R[t.cardStyle||"DEFAULT"]),linkOptions:t.linkOptions},function e(a){return{onClick:function e(){i({module:t.trackingModule||"Shelf",action:"shelf_product_".concat(a,"_click"),value:t.productId,context:"shelf_".concat(t.shelfIndex,"_item_").concat(t.placement,"_product_").concat(t.productCode)}),t.onClick&&t.onClick(a)}}}("photo")),t.imgUrl&&o.createElement(D.LazyImage,{src:t.imgUrl,alt:t.title,className:"_34fe7l16",loadingElement:function e(a){return o.createElement("div",{className:"_6mtsb-pL",ref:a},o.createElement(x.a,{fillParent:!0}),o.createElement("img",{alt:t.title,"data-url":t.imgUrl,className:"_2nyR6VEQ"}))}}),t.productLabelTag&&"sponsored_v2"!==t.productLabelTag.tagProperty&&l&&o.createElement(S.a,{type:t.productLabelTag.tagProperty||"secondary"},l),t.showTicketIcon&&o.createElement("div",{className:f()("_3Uq2BlUv",T()({},"_2Ruib620",Object(C.featureIsEnabled)("cx_brand_refresh_degreen")))},o.createElement(y.a,{name:"attractions"})))},j={SOLID:"oP0Lqfqx",LANDSCAPE:"_1nR_iI1-",LANDSCAPE_ELONGATED:"gMDfknUk",TICKETBANNER:"_2dhaTZa5",FULLBLEED:"_1Y_DET09",DEFAULT:null};t.default=function e(t){var a=Object(L.useIntlFormatter)(),n=Object(k.useGARecorder)(),i="shelf_".concat(t.shelfIndex,"_item_").concat(t.placement,"_product_").concat(t.productCode),c=Object(b.useOnVisible)(function(){var e,a;n({module:t.trackingModule||"Shelf",action:(null===(e=t.visibleTrackingProps)||void 0===e?void 0:e.action)||"shelf_product_in_view",context:(null===(a=t.visibleTrackingProps)||void 0===a?void 0:a.context)||i})}),u=function e(a){return{onClick:function e(){n({module:t.trackingModule||"Shelf",action:"shelf_product_".concat(a,"_click"),context:i}),t.onClick&&t.onClick(a)}}},p={};return p.lang=Object(m.getMachineTranslationLangAttribute)(t.language),o.createElement("div",{className:f()("_1sXmOkVY",t.cardStyle&&j[t.cardStyle]),ref:c},t.locationId&&o.createElement("div",{className:"_2rAf3ZUm"},o.createElement(s.a,{object:{locationId:t.locationId,__typename:"LocationInformation"},bookmarkSize:"30"})),["LANDSCAPE","LANDSCAPE_ELONGATED"].includes(t.cardStyle)?o.createElement(M,t):o.createElement("div",null,o.createElement(M,t)),o.createElement("div",{className:"_3tAkOfrA"},t.showCategoryTag&&o.createElement(l.a,{tagName:t.primaryCategoryName}),o.createElement("div",{className:"_33Ma7Kqs"},o.createElement(E.a,r()({url:t.url,className:"_14YXRh6Y",linkOptions:t.linkOptions},u("title")),o.createElement("span",r()({className:"_2e_OvRJN"},p),t.title)),t.reviewCount>0&&o.createElement(E.a,r()({url:t.url&&"".concat(t.url,"#REVIEWS"),linkOptions:t.linkOptions},u("reviews")),o.createElement(g.BubbleRatingWithLabel,{rating:t.rating,label:o.createElement("span",{className:"_3H1M4IDC"},"(",a.formatNumber("integer",t.reviewCount),")"),bubbleRatingVerticalAlign:"middle"})),t.translationAttribution&&o.createElement(m.TranslationAttribution,{providerImageUrl:t.translationAttribution.providerImageUrl,providerName:t.translationAttribution.providerName}),t.productText&&o.createElement("div",r()({},p,{className:"HAt_g9H6"}),t.productText)),o.createElement("div",{className:"if0MZS_D"},o.createElement("div",{className:"_1Eo7RCI_"},o.createElement(d.a,{fromPriceType:t.fromPriceFormat||"PER_ADULT",fromPrice:t.fromPrice,strikethruPrice:t.strikethruPrice})),t.showMoreInfoButton&&o.createElement("div",{className:"wl0HcFGH"},o.createElement(N.a,{theme:"primary",onClick:function e(){var a;u("more_info").onClick(),window.open(t.url,null==t?void 0:null===(a=t.linkOptions)||void 0===a?void 0:a.target)}},o.createElement(A.a,{id:"attractions_more_info_inline"})))),t.socialProofTotalBookingsMessage&&o.createElement("div",{className:"lrTNofD6"},o.createElement("div",{className:"_9BZ9-SXP"},t.socialProofTotalBookingsMessage)),t.hoverComponent&&o.createElement("div",{className:"uWaySoyT"},t.hoverComponent)))}}}});
//# sourceMappingURL=attractions.shelf-product.9ea282c801.js.map