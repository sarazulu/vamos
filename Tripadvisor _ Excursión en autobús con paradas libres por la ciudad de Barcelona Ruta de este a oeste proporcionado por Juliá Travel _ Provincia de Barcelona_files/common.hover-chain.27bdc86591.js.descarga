($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/common.hover-chain",d:["vendor-babel","vendor-react-libs"],e:["./packages/common/hover-chain/HoverChain.jsx"],m:{"./packages/common/hover-chain/HoverChain.jsx":function(e,r,t){"use strict";t.r(r);var n=t("@babel/runtime/helpers/esm/classCallCheck"),o=t.n(n),i=t("@babel/runtime/helpers/esm/createClass"),a=t.n(i),s=t("@babel/runtime/helpers/esm/possibleConstructorReturn"),u=t.n(s),d=t("@babel/runtime/helpers/esm/getPrototypeOf"),h=t.n(d),m=t("@babel/runtime/helpers/esm/assertThisInitialized"),l=t.n(m),v=t("@babel/runtime/helpers/esm/inherits"),p=t.n(v),c=t("@babel/runtime/helpers/esm/defineProperty"),T=t.n(c),C=t("react"),f=function e(r){for(var t=r;t;){if(t.hovered)return!0;t=t.child}return!1},g=function e(r){for(var t=r;t;)null!==t.timer&&void 0!==t.timer&&(clearTimeout(t.timer),t.timer=null),t=t.parent},O=function(e){function r(e){var t;o()(this,r),t=u()(this,h()(r).call(this,e)),T()(l()(t),"setTarget",function(e){t.renderTimeTarget=e}),T()(l()(t),"tapTargetHandler",function(e){e.stopPropagation()}),T()(l()(t),"tapWindowHandler",function(){t.mouseOutHandler()}),T()(l()(t),"mouseOverHandler",function(){t.renderTimeTarget&&t.renderTimeTarget.addEventListener("touchstart",t.tapTargetHandler),setTimeout(function(){window.addEventListener("touchstart",t.tapWindowHandler)},0),null!==t.hoverChainNode.timer&&void 0!==t.hoverChainNode.timer&&clearTimeout(t.hoverChainNode.timer),g(t.hoverChainNode),t.hoverChainNode.hovered=!0,t.hoverChainNode.pendingMouseOut=!0,t.props.mouseOverHandler&&t.props.mouseOverHandler(t.hoverChainNode)}),T()(l()(t),"mouseOutHandler",function(){t.hoverChainNode.hovered=!1,t.hoverChainNode.timer=setTimeout(function(){if(t.hoverChainNode.timer=null,!f(t.hoverChainNode)){t.renderTimeTarget&&t.renderTimeTarget.removeEventListener("touchstart",t.tapTargetHandler),window.removeEventListener("touchstart",t.tapWindowHandler),t.props.mouseOutHandler&&t.props.mouseOutHandler(),t.hoverChainNode.pendingMouseOut=!1;var e=t.hoverChainNode.parent;e&&!e.hovered&&e.mouseOutCallback()}},t.props.mouseOutTimeout)}),T()(l()(t),"hoverChainNode",void 0),T()(l()(t),"renderTimeTarget",void 0);var n={parent:void 0,child:void 0,hovered:!1,mouseOutCallback:function e(){return t.mouseOutHandler()},pendingMouseOut:!1,timer:null};return e.hoverChainParent&&(n.parent=e.hoverChainParent,n.parent.child=n),t.hoverChainNode=n,t}return p()(r,e),a()(r,[{key:"componentDidMount",value:function e(){this.renderTimeTarget&&(this.renderTimeTarget.addEventListener("mouseenter",this.mouseOverHandler),this.renderTimeTarget.addEventListener("touchstart",this.mouseOverHandler),this.renderTimeTarget.addEventListener("mouseleave",this.mouseOutHandler))}},{key:"componentWillUnmount",value:function e(){null!==this.hoverChainNode.timer&&void 0!==this.hoverChainNode.timer&&clearTimeout(this.hoverChainNode.timer),this.hoverChainNode.pendingMouseOut&&this.props.mouseOutHandler&&this.props.mouseOutHandler(),window.removeEventListener("touchstart",this.mouseOutHandler)}},{key:"render",value:function e(){return this.props.children(this.setTarget,this.hoverChainNode)}}]),r}(C.Component);T()(O,"defaultProps",{mouseOutTimeout:0}),r.default=O}}});
//# sourceMappingURL=common.hover-chain.27bdc86591.js.map