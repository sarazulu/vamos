($WP="undefined"!=typeof $WP?$WP:[]).push({id:"@ta/attractions.attraction-product-review",d:["vendor-babel","vendor-react-libs","@ta/attractions.apd-tabs","@ta/core-ui.toast","@ta/attractions.apd-root","@ta/attractions.apd-xsells","@ta/brand.header","@ta/common.features","@ta/common.drs-dump","@ta/attractions.photo-and-tour-planner-gql","@ta/attractions.promo-header","@ta/attractions.attractions-travel-alerts","@ta/attractions.check-availability","@ta/attractions.infinity-loader","lithium-platform","@ta/chat.initial-404-lithium","@ta/core-ui.grid","@ta/attractions.product-detail-data-loader","@ta/cpm.gpt-ad","@ta/platform.impressions","@ta/platform.monikers","@ta/attractions.product-key-details","@ta/attractions.booking-confidence-card","lithium-page","@ta/tracking.bounce-rate","@ta/attractions.apd-user-generated-content","@ta/attractions.supplier-trust","@ta/memx.abandonment-controller-deferred","@ta/attractions.product-header","@ta/styleguide.skeleton"],e:["./packages/attractions/attraction-product-review/attraction-product-review.jsx"],m:{"./packages/attractions/attraction-product-review/attraction-product-review.jsx":function(e,t,a){"use strict";a.r(t);var r=a("@babel/runtime/helpers/esm/slicedToArray"),n=a.n(r),l=a("react"),o=a("@ta/attractions.apd-tabs"),c=a.n(o),i=a("@ta/core-ui.toast"),u=a("@ta/attractions.apd-root"),d=a.n(u),s=a("@ta/attractions.apd-xsells"),m=a.n(s),E=a("@ta/brand.header"),p=a("@ta/common.features"),g=a("@ta/common.drs-dump"),b=a.n(g),v=a("@ta/attractions.photo-and-tour-planner-gql"),h=a.n(v),y=a("@ta/attractions.promo-header"),f=a.n(y),P=a("@ta/attractions.attractions-travel-alerts"),O=a.n(P),C=a("@ta/attractions.check-availability"),M=a.n(C),j=a("@ta/attractions.infinity-loader"),k=a.n(j),w=a("@ta/common.error-handling"),B=a("@ta/chat.initial-404-lithium"),x=a.n(B),I=a("@ta/core-ui.grid"),T=a("@ta/attractions.product-detail-data-loader"),_=a("@ta/cpm.gpt-ad"),A=a("@ta/lithium.context"),N=a("@ta/platform.impressions"),D=a("@ta/platform.monikers"),H=a("@ta/attractions.product-key-details"),R=a.n(H),L=a("@ta/attractions.booking-confidence-card"),W=a.n(L),G=a("@ta/lithium.page-annotations"),F=a("@ta/tracking.bounce-rate"),S=a("@ta/attractions.apd-user-generated-content"),V=a.n(S),$=a("@ta/attractions.supplier-trust"),q=a.n($),K=a("@ta/memx.abandonment-controller-deferred"),Q=a.n(K),U=a("@ta/attractions.product-header"),X=a.n(U),Y=a("@ta/styleguide.skeleton"),J=a.n(Y),z=l.memo(function e(t){var a="MOBILE"===l.useContext(A.Device).viewportCategory;return t.productHeaderModel?l.createElement(I.Grid,null,l.createElement(X.a,t)):l.createElement(I.Grid,null,l.createElement(I.Row,null,l.createElement(I.Column,null,l.createElement("div",{className:"_2IiOf_4N"},l.createElement(J.a,{height:a?74:32,width:a?"calc(100vw - 32px)":800})))))}),Z=function e(t){if(!t)return null;var a=t.mediaList.find(function(e){return"PHOTO"===e.mediaType});if(!a)return null;var r=a.mediaUrl,n=a.mediaWidth,l=a.mediaHeight;return n&&l?{url:r,width:n,height:l}:null};t.default=l.memo(function e(){var t="MOBILE"===l.useContext(A.Device).viewportCategory,a="DESKTOP"===l.useContext(A.Device).viewportCategory,r=l.useContext(A.Route),o=n()(r,1)[0].page,u=Object(T.useFullProductData)(),s=u.fetching,g=u.fullProduct,v=u.travelersChoice,y=Object(T.useProductHeaderModel)(),P=Object(T.useTourPlannerModel)(),C=Object(T.useOverviewModel)(),j=Object(T.useHighlights)(),B=Object(T.useWhatToExpectModel)(),H=Object(T.useProductItineraryModel)(),L=Object(T.useMDTProductItineraryModel)(),S=Object(T.useImportantInformationModel)(),$=Object(T.useProductCarouselModel)(),K=Object(T.useAdditionalInfo)(),U=Object(T.useCancellationConditions)(),X=Object(T.useKeyDetailsModel)(),Y=(null==y?void 0:y.freeCancellationMessage)||"",J=(null==y?void 0:y.reserveNowPayLaterMessage)||"",ee=(null==P?void 0:P.productCode)||{originalValue:"",encodedValue:""},te=(null==P?void 0:P.serviceNumber)||"";Object(G.usePageContentAnnotations)({image:Z($)}),Object(N.usePageProperty)("ExpABTestEligible:341"),Object(N.usePageProperty)("lithium_infrastructure"),Object(N.usePageProperty)("ExpABTestEligible:380"),Object(D.usePageViewMoniker)({attractionProductPrice:g&&g.pricingInfo&&g.pricingInfo.fromPrice||void 0,obfuscatedAttractionProductCode:g&&g.productCode||void 0},!s),Object(_.useBasePageTargeting)(),Object(F.useBounceRateTracking)();var ae=!(!Object(p.featureIsEnabled)("attractions_itinerary_redesign")||!H),re=l.useState(null),ne=n()(re,2),le=ne[0],oe=ne[1],ce=Object(p.featureIsEnabled)("abandonment_suggested_login_APR")&&l.createElement(w.ErrorBoundary,null,l.createElement(Q.a,null));return l.createElement(i.ToastProvider,null,!t&&l.createElement(l.Fragment,null,l.createElement(E.NavLinks,null),l.createElement(E.OnPageAssets,null)),l.createElement(k.a,{staticServiceNumber:te},l.createElement(w.ErrorBoundary,null,l.createElement(z,{productHeaderModel:y,trackingModule:o})),l.createElement("div",{className:"P3JUi-oC"},l.createElement(I.Grid,{fluid:t},l.createElement(w.ErrorBoundary,null,l.createElement(O.a,null)),l.createElement(w.ErrorBoundary,null,l.createElement(f.a,null)),l.createElement(I.Row,{gapless:t},l.createElement(I.Column,null,l.createElement(w.ErrorBoundary,null,l.createElement(h.a,{tourPlannerModel:P,productHeaderModel:y,travelersChoice:v,setCheckAvailabilityCallback:oe})),l.createElement(w.ErrorBoundary,null,l.createElement(c.a,{productHeaderModel:y,checkAvailabilityCallback:le})))),l.createElement(I.Row,{gapless:t},l.createElement(I.Column,{width:a?8:12},l.createElement(w.ErrorBoundary,null,l.createElement(d.a,{overview:C,highlights:j,whatToExpect:B,productItinerary:H,mdtProductItinerary:L,importantInformation:S,additionalInfo:K,cancellationPolicy:U,trackingModule:o})),l.createElement(w.ErrorBoundary,null,l.createElement(V.a,null)),l.createElement(w.ErrorBoundary,null,l.createElement(q.a,null)),t&&le&&P&&l.createElement("div",{className:"_1XQirYiy"},l.createElement(w.ErrorBoundary,null,l.createElement(M.a,{tourPlannerModel:P,onCTAClick:le})))),a&&l.createElement(I.Column,{width:4},l.createElement("div",{className:"_1XQirYiy"},X&&l.createElement(w.ErrorBoundary,null,l.createElement(R.a,{keyDetails:X,showMap:!ae})),l.createElement(w.ErrorBoundary,null,l.createElement(W.a,{freeCancellationMessage:Y,reserveNowPayLaterMessage:J,productCode:ee,serviceNumber:te})))))),l.createElement(w.ErrorBoundary,null,l.createElement(m.a,null)),l.createElement(I.Grid,null,l.createElement(I.Row,{gapless:t},l.createElement(I.Column,null,l.createElement(w.ErrorBoundary,null,l.createElement(_.FooterAd,null)))))),!!Object(p.featureIsEnabled)("dux_chat_404_lithium")&&l.createElement(w.ErrorBoundary,null,l.createElement(x.a,null)),ce),l.createElement(b.a,null))})}}});
//# sourceMappingURL=attractions.attraction-product-review.162459089b.js.map